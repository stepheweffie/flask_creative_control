<!DOCTYPE html>
<html>
  <head>

    <script type="text/javascript">
      const client = new WebSocket('wss://cc-simple-chat.herokuapp.com:5000');
      client.on('open', () => {
      // Causes the server to print "Hello"
      console.log("Connected");
      });

      var chat = document.getElementById("chat"),
              btn= document.getElementById("send");
      btn.addEventListener('click', function(){
        client.emit('message', {
          chat: chat.value,
        });
        chat.value = "";
      });
      client.on('message', function(event) {
         console.log('Message from server ', event.data);
         const messages = document.getElementsByTagName('ul')[0],
                 message = document.createElement('li'),
                 content = document.createTextNode(event.data);
         message.appendChild(content);
         messages.appendChild(message);
       document.body.appendChild(messages);
       });

    </script>
  </head>
<body>

<form method="post" id="chat">
  <input type="text"><button type="submit" id="send">Send</button>
</form>

<br>
<br>
<ul>

</ul>


</body>
</html>
